
<ReorgSpec>
<SpecVersion>16_0_2-131213</SpecVersion>
<Table>
<TableId>7</TableId>
<TableName>Pedido</TableName>
<Description>Pedido</Description></Table>
<ReorgCls>c</ReorgCls>
<ReorgCode>pk</ReorgCode>
<ReorgMsg>Pedido needs conversion</ReorgMsg>
<ReorgAction>#</ReorgAction>
<TableAttributes>
<AttrisInTable>
<Attribute>
<AttriId>32</AttriId>
<AttriName>PedidoId</AttriName>
<Description>Número do Pedido</Description>
<TakesValueFrom>
<Table>
<TableId>7</TableId>
<TableName>Pedido</TableName>
<Description>Pedido</Description></Table>
<FromValue>
<Token>.</Token>
<Sp></Sp>
<Attribute>
<AttriId>32</AttriId>
<AttriName>PedidoId</AttriName>
<Description>Número do Pedido</Description></Attribute></FromValue></TakesValueFrom>
<OnPrimaryKey>Yes</OnPrimaryKey>
<AttriType>
<DataType>N</DataType>
<Presicion>4</Presicion>
<Scale>0</Scale>
<Properties>
<Property>
<Name>Autonumber</Name>
<Value>Yes</Value></Property>
<Property>
<Name>Autogenerate</Name>
<Value>No</Value></Property>
<Property>
<Name>AllowNulls</Name>
<Value>No</Value></Property></Properties></AttriType></Attribute>
<Attribute>
<AttriId>33</AttriId>
<AttriName>PedidoDt</AttriName>
<Description>Data do Pedido</Description>
<TakesValueFrom>
<Table>
<TableId>7</TableId>
<TableName>Pedido</TableName>
<Description>Pedido</Description></Table>
<FromValue>
<Token>.</Token>
<Sp></Sp>
<Attribute>
<AttriId>33</AttriId>
<AttriName>PedidoDt</AttriName>
<Description>Data do Pedido</Description></Attribute></FromValue></TakesValueFrom>
<AttriType>
<DataType>D</DataType>
<Presicion>8</Presicion>
<Scale>0</Scale>
<Properties>
<Property>
<Name>Autonumber</Name>
<Value>No</Value></Property>
<Property>
<Name>Autogenerate</Name>
<Value>No</Value></Property>
<Property>
<Name>AllowNulls</Name>
<Value>No</Value></Property></Properties></AttriType></Attribute>
<Attribute>
<AttriId>34</AttriId>
<AttriName>PedidoStatus</AttriName>
<Description>Status</Description>
<TakesValueFrom>
<Table>
<TableId>7</TableId>
<TableName>Pedido</TableName>
<Description>Pedido</Description></Table>
<FromValue>
<Token>.</Token>
<Sp></Sp>
<Attribute>
<AttriId>34</AttriId>
<AttriName>PedidoStatus</AttriName>
<Description>Status</Description></Attribute></FromValue></TakesValueFrom>
<AttriType>
<DataType>V</DataType>
<Presicion>3</Presicion>
<Scale>0</Scale>
<Properties>
<Property>
<Name>Autonumber</Name>
<Value>No</Value></Property>
<Property>
<Name>Autogenerate</Name>
<Value>No</Value></Property>
<Property>
<Name>AllowNulls</Name>
<Value>No</Value></Property>
<Property>
<Name>NLS</Name>
<Value>No</Value></Property></Properties></AttriType></Attribute>
<Attribute>
<AttriId>35</AttriId>
<AttriName>PedidoDtEntrega</AttriName>
<Description>Data de Entrega</Description>
<TakesValueFrom>
<Table>
<TableId>7</TableId>
<TableName>Pedido</TableName>
<Description>Pedido</Description></Table>
<FromValue>
<Token>.</Token>
<Sp></Sp>
<Attribute>
<AttriId>35</AttriId>
<AttriName>PedidoDtEntrega</AttriName>
<Description>Data de Entrega</Description></Attribute></FromValue></TakesValueFrom>
<AttriType>
<DataType>D</DataType>
<Presicion>8</Presicion>
<Scale>0</Scale>
<Properties>
<Property>
<Name>Autonumber</Name>
<Value>No</Value></Property>
<Property>
<Name>Autogenerate</Name>
<Value>No</Value></Property>
<Property>
<Name>AllowNulls</Name>
<Value>No</Value></Property></Properties></AttriType></Attribute>
<Attribute>
<AttriId>36</AttriId>
<AttriName>PedidoRetirada</AttriName>
<Description>Retirar no Local?</Description>
<TakesValueFrom>
<Table>
<TableId>7</TableId>
<TableName>Pedido</TableName>
<Description>Pedido</Description></Table>
<FromValue>
<Token>.</Token>
<Sp></Sp>
<Attribute>
<AttriId>36</AttriId>
<AttriName>PedidoRetirada</AttriName>
<Description>Retirar no Local?</Description></Attribute></FromValue></TakesValueFrom>
<AttriType>
<DataType>1</DataType>
<Presicion>4</Presicion>
<Scale>0</Scale>
<Properties>
<Property>
<Name>Autonumber</Name>
<Value>No</Value></Property>
<Property>
<Name>Autogenerate</Name>
<Value>No</Value></Property>
<Property>
<Name>AllowNulls</Name>
<Value>No</Value></Property></Properties></AttriType></Attribute>
<Attribute>
<AttriId>37</AttriId>
<AttriName>PedidoTotal</AttriName>
<Description>Total</Description>
<TakesValueFrom>
<FromFormula>
<Token>sum(</Token>
<Sp></Sp>
<Attribute>
<AttriId>11</AttriId>
<AttriName>ProdutoValor</AttriName>
<Description>Valor do Produto</Description></Attribute>
<Sp></Sp>
<Token>*</Token>
<Sp></Sp>
<Attribute>
<AttriId>38</AttriId>
<AttriName>PedidoItemQtd</AttriName>
<Description>Quantidade</Description></Attribute>
<Token>)</Token></FromFormula></TakesValueFrom>
<AttriType>
<DataType>N</DataType>
<Presicion>12</Presicion>
<Scale>2</Scale>
<Properties>
<Property>
<Name>Autonumber</Name>
<Value>No</Value></Property>
<Property>
<Name>Autogenerate</Name>
<Value>No</Value></Property>
<Property>
<Name>AllowNulls</Name>
<Value>No</Value></Property></Properties></AttriType>
<AttriChangeType>nv</AttriChangeType></Attribute>
<Attribute>
<AttriId>1</AttriId>
<AttriName>PessoaId</AttriName>
<Description>Id</Description>
<TakesValueFrom>
<Table>
<TableId>7</TableId>
<TableName>Pedido</TableName>
<Description>Pedido</Description></Table>
<FromValue>
<Token>.</Token>
<Sp></Sp>
<Attribute>
<AttriId>1</AttriId>
<AttriName>PessoaId</AttriName>
<Description>Id</Description></Attribute></FromValue></TakesValueFrom>
<AttriType>
<DataType>N</DataType>
<Presicion>4</Presicion>
<Scale>0</Scale>
<Properties>
<Property>
<Name>Autonumber</Name>
<Value>No</Value></Property>
<Property>
<Name>Autogenerate</Name>
<Value>No</Value></Property>
<Property>
<Name>AllowNulls</Name>
<Value>No</Value></Property></Properties></AttriType></Attribute>
<Attribute>
<AttriId>39</AttriId>
<AttriName>PedidoDescontoFrete</AttriName>
<Description>Desconto/Frete</Description>
<TakesValueFrom>
<FromValue>
<Token>0</Token></FromValue></TakesValueFrom>
<AttriType>
<DataType>N</DataType>
<Presicion>12</Presicion>
<Scale>2</Scale>
<Properties>
<Property>
<Name>Autonumber</Name>
<Value>No</Value></Property>
<Property>
<Name>Autogenerate</Name>
<Value>No</Value></Property>
<Property>
<Name>AllowNulls</Name>
<Value>No</Value></Property></Properties></AttriType>
<AttriChangeType>ni</AttriChangeType></Attribute></AttrisInTable>
<AttrisNoLongerInTable></AttrisNoLongerInTable>
<AttrisInManyTables></AttrisInManyTables></TableAttributes>
<NavigationTree>
<Table>
<TableId>7</TableId>
<TableName>Pedido</TableName>
<Description>Pedido</Description>
<RecordsToRead>many</RecordsToRead>
<KeyAttributes>
<Attribute>
<AttriId>32</AttriId>
<AttriName>PedidoId</AttriName>
<Description>Número do Pedido</Description></Attribute></KeyAttributes>
<Tables></Tables></Table></NavigationTree>
<TablesToUpdate></TablesToUpdate>
<TableIndices>
<Indices>
<Index>
<IndexName>IPEDIDO</IndexName>
<IndexType>u</IndexType>
<IndexAttris>
<Attribute>
<AttriId>32</AttriId>
<AttriName>PedidoId</AttriName>
<Description>Número do Pedido</Description></Attribute></IndexAttris>
<IndexExistance>AlreadyExist</IndexExistance>
<Clustered>Yes</Clustered></Index>
<Index>
<IndexName>IPEDIDO1</IndexName>
<IndexType>d</IndexType>
<IndexAttris>
<Attribute>
<AttriId>1</AttriId>
<AttriName>PessoaId</AttriName>
<Description>Id</Description></Attribute></IndexAttris>
<IndexExistance>AlreadyExist</IndexExistance>
<Clustered>No</Clustered></Index></Indices></TableIndices>
<FKConstraints>
<FKConstraint>
<ChangeType>none</ChangeType>
<Table>
<TableId>1</TableId>
<TableName>Pessoa</TableName>
<Description>Pessoa</Description></Table>
<Attributes>
<Attribute>
<AttriId>1</AttriId>
<AttriName>PessoaId</AttriName>
<Description>Id</Description></Attribute></Attributes></FKConstraint></FKConstraints>
<Statements>
<Statement>ALTER TABLE [Pedido] ADD [PedidoDescontoFrete]  money NOT NULL CONSTRAINT PedidoDescontoFretePedido_DEFAULT DEFAULT convert(int, 0), [PedidoTotal]  money NOT NULL CONSTRAINT PedidoTotalPedido_DEFAULT DEFAULT convert(int, 0)</Statement>
<Statement>ALTER TABLE [Pedido] DROP CONSTRAINT PedidoDescontoFretePedido_DEFAULT</Statement>
<Statement>UPDATE [Pedido] SET [PedidoTotal]=T.[PedidoTotal] FROM (SELECT T1.[PedidoId], COALESCE( T2.[PedidoTotal], 0) AS PedidoTotal FROM ([Pedido] T1 LEFT JOIN (SELECT COALESCE( T4.[GXC1], 0) AS PedidoTotal, T3.[PedidoId] FROM ([Pedido] T3 LEFT JOIN (SELECT SUM(T6.[ProdutoValor] * CAST(T5.[PedidoItemQtd] AS decimal( 22, 10))) AS GXC1, T5.[PedidoId] FROM ([PedidoItem] T5 INNER JOIN [Produto] T6 ON T6.[ProdutoId] = T5.[ProdutoId]) GROUP BY T5.[PedidoId] ) T4 ON T4.[PedidoId] = T3.[PedidoId]) ) T2 ON T2.[PedidoId] = T1.[PedidoId])) T WHERE [Pedido].PedidoId= T.PedidoId</Statement>
<Statement>ALTER TABLE [Pedido] DROP CONSTRAINT PedidoTotalPedido_DEFAULT</Statement></Statements>
<NeedReorganizationProgram>False</NeedReorganizationProgram>
<Warnings>
<Warning>
<MsgCode>rgz0007</MsgCode>
<Message>
<Token>Attribute </Token>
<Attribute>
<AttriId>39</AttriId>
<AttriName>PedidoDescontoFrete</AttriName>
<Description>Desconto/Frete</Description></Attribute>
<Token> does not allow nulls and does not have an Initial Value. An empty default value will be used.</Token></Message></Warning></Warnings>
<Errors></Errors></ReorgSpec>